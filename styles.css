/* =============================================
   Professional UI Theme with Dark Mode Support
   ============================================= */
* {margin:0; padding:0; box-sizing:border-box;}

:root {
  --font-sans:'Inter','Segoe UI',Tahoma,Geneva,Verdana,sans-serif;
  --bg-gradient-start:#5562e9;
  --bg-gradient-end:#7a49b4;
  --surface:#ffffff;
  --surface-alt:#f5f7fb;
  --surface-muted:#eef2f7;
  --border:#d6deea;
  --border-strong:#b9c3d3;
  --text:#1f2733;
  --text-soft:#4a5568;
  --text-faint:#687385;
  --primary:#5562e9;
  --primary-accent:#6f7dff;
  --focus:rgba(85,98,233,.45);
  --success:#2f9e62;
  --warn:#ed8936;
  --danger:#d64545;
  --radius-xs:4px; --radius-sm:6px; --radius:12px; --radius-lg:22px;
  --shadow-sm:0 1px 2px rgba(16,24,40,0.06),0 0 0 1px rgba(16,24,40,0.04);
  --shadow:0 4px 14px rgba(25,32,56,0.12);
  --shadow-lg:0 8px 28px rgba(25,32,56,0.18);
  --transition:.18s cubic-bezier(.4,0,.2,1);
}

body.theme-dark {
  --surface:#1c2430;
  --surface-alt:#111821;
  --surface-muted:#202a36;
  --border:#293543;
  --border-strong:#3a4a5c;
  --text:#e8edf4;
  --text-soft:#bac6d4;
  --text-faint:#8d99aa;
  --primary:#7282ff;
  --primary-accent:#8996ff;
  --focus:rgba(114,130,255,.45);
  --shadow:0 4px 20px rgba(0,0,0,.55);
  --shadow-lg:0 10px 34px rgba(0,0,0,.6);
}

body {font-family:var(--font-sans); line-height:1.55; color:var(--text); background:linear-gradient(135deg,var(--bg-gradient-start),var(--bg-gradient-end)) fixed; min-height:100vh; -webkit-font-smoothing:antialiased;}

.container {max-width:1240px; margin:0 auto; padding:40px 34px 70px;}

/* Header */
header {text-align:center; margin-bottom:40px; color:#fff;}
header h1 {font-size:2.15rem; font-weight:600; letter-spacing:.5px; margin-bottom:8px; text-shadow:0 4px 22px rgba(0,0,0,.25);} 
header p {font-size:.95rem; opacity:.9; letter-spacing:.35px;}

/* Layout */
main {display:grid; grid-template-columns:minmax(0,1fr) 420px; gap:48px; align-items:start;}
@media (max-width:1120px){ main {grid-template-columns:1fr;} .output-section {position:static;} }

/* Form Card */
.form-container {background:var(--surface); padding:40px 40px 44px; border-radius:28px; box-shadow:var(--shadow-lg); position:relative; overflow:hidden;}
.form-container:before {content:""; position:absolute; inset:0; background:linear-gradient(145deg,rgba(255,255,255,.1),rgba(255,255,255,0) 40%); pointer-events:none;}
body.theme-dark .form-container:before {background:linear-gradient(145deg,rgba(255,255,255,.05),rgba(255,255,255,0) 42%);} 

.form-section {margin-bottom:34px; padding-bottom:24px; border-bottom:1px solid var(--border);} 
.form-section:last-of-type {border-bottom:none; margin-bottom:0; padding-bottom:0;}
.form-section h2 {font-size:1rem; letter-spacing:.15rem; font-weight:600; color:var(--text-soft); margin-bottom:20px; text-transform:uppercase; display:flex; align-items:center; gap:10px;}
.form-section h2:before {content:""; width:10px; height:10px; border-radius:50%; background:linear-gradient(135deg,var(--primary),var(--primary-accent)); box-shadow:0 0 0 4px rgba(0,0,0,.05);} 

.form-group {margin-bottom:22px; position:relative;}
.form-group label {display:block; margin-bottom:7px; font-size:.78rem; font-weight:600; letter-spacing:.08rem; text-transform:uppercase; color:var(--text-faint);}
.form-group input, .form-group select, .form-group textarea {width:100%; padding:13px 15px 12px; font-size:15px; background:var(--surface-alt); border:1.5px solid var(--border); border-radius:12px; color:var(--text); transition:var(--transition); letter-spacing:.25px;}
body.theme-dark .form-group input, body.theme-dark .form-group select, body.theme-dark .form-group textarea {background:var(--surface-muted);} 
.form-group input:focus, .form-group select:focus, .form-group textarea:focus {outline:none; border-color:var(--primary); box-shadow:0 0 0 3px var(--focus); background:var(--surface);} 

/* Advanced collapsible */
details.advanced-collapsible {border:1px solid var(--border); border-radius:16px; padding:14px 18px 6px; background:var(--surface-alt); box-shadow:var(--shadow-sm);}
body.theme-dark details.advanced-collapsible {background:var(--surface-muted);} 
details.advanced-collapsible[open] {padding-bottom:14px;}
details.advanced-collapsible summary {cursor:pointer; list-style:none; font-weight:600; font-size:.8rem; letter-spacing:.09rem; text-transform:uppercase; color:var(--text-faint); display:flex; align-items:center; gap:8px; position:relative;}
details.advanced-collapsible summary::-webkit-details-marker {display:none;}
details.advanced-collapsible summary:before {content:""; width:10px; height:10px; border-radius:50%; background:linear-gradient(135deg,var(--primary),var(--primary-accent)); box-shadow:0 0 0 3px rgba(0,0,0,.05);} 
details.advanced-collapsible[open] summary {color:var(--text-soft);} 
details.advanced-collapsible summary:focus-visible {outline:2px solid var(--focus); outline-offset:4px; border-radius:8px;} 
details .advanced-inner {margin-top:14px; animation:fadeUp .4s var(--transition);} 
.advanced-hint {font-size:.7rem; margin:-4px 0 14px; color:var(--text-faint); letter-spacing:.05rem;}

.toggle-btn {position:absolute; right:8px; top:39px; background:var(--primary); color:#fff; border:none; padding:7px 11px 6px; border-radius:8px; font-size:11px; font-weight:500; cursor:pointer; display:inline-flex; align-items:center; gap:4px; letter-spacing:.5px; transition:var(--transition); box-shadow:var(--shadow-sm);} 
.toggle-btn:hover {background:var(--primary-accent);} 

/* Buttons */
.button-group {display:flex; flex-wrap:wrap; gap:16px; margin-top:36px;}
.btn {--btn-bg:var(--primary); --btn-bg2:var(--primary-accent); --btn-color:#fff; flex:1; position:relative; padding:14px 22px 13px; border:none; border-radius:16px; background:linear-gradient(135deg,var(--btn-bg),var(--btn-bg2)); color:var(--btn-color); font-size:15px; font-weight:600; letter-spacing:.4px; cursor:pointer; display:inline-flex; align-items:center; justify-content:center; gap:8px; transition:var(--transition); box-shadow:var(--shadow-sm);} 
.btn:hover {box-shadow:var(--shadow); transform:translateY(-2px);} 
.btn:focus-visible {outline:2px solid var(--focus); outline-offset:2px;} 
.btn-secondary {--btn-bg:var(--surface-muted); --btn-bg2:var(--surface-alt); --btn-color:var(--text-soft);} 
body.theme-dark .btn-secondary {--btn-bg:var(--surface-muted); --btn-bg2:var(--surface);}
.btn-copy {--btn-bg:var(--success); --btn-bg2:#34b273; flex:0 0 auto;}
.btn-download {--btn-bg:var(--warn); --btn-bg2:#f18c34; width:100%; margin-top:24px;}

/* Output Panel */
.output-section {background:var(--surface); padding:34px 30px 40px; border-radius:28px; box-shadow:var(--shadow-lg); position:sticky; top:26px; display:flex; flex-direction:column; min-height:360px;}
.output-section h2 {text-align:center; font-size:1.15rem; font-weight:600; margin-bottom:22px; letter-spacing:.5px; color:var(--text-soft);} 

.qr-container {display:flex; justify-content:center; align-items:center; margin-bottom:26px; padding:12px 14px; background:var(--surface-alt); border:1px solid var(--border); border-radius:20px; min-height:300px; position:relative; overflow:hidden;}
body.theme-dark .qr-container {background:var(--surface-muted);} 
.qr-container canvas {max-width:100%; height:auto; image-rendering:pixelated; display:block;}
.qr-source {text-align:center; font-size:.85rem; font-weight:600; color:var(--success); margin-top:10px; letter-spacing:.5px;}

.json-output {margin-top:10px;}
.json-output h3 {font-size:.85rem; font-weight:600; letter-spacing:.1rem; text-transform:uppercase; margin-bottom:12px; color:var(--text-faint);} 
.json-output textarea {width:100%; height:220px; padding:14px 16px; border:1.5px solid var(--border); border-radius:16px; font-family:'Courier New',monospace; font-size:12.5px; line-height:1.45; letter-spacing:.25px; background:var(--surface-alt); color:var(--text-soft); resize:vertical;}
body.theme-dark .json-output textarea {background:var(--surface-muted);} 

/* Footer */
footer {text-align:center; margin-top:74px; padding:30px 10px 42px; color:#fff; opacity:.85; font-size:.75rem; letter-spacing:.55px;}

/* Loading State */
.loading {opacity:.55; filter:saturate(.6); pointer-events:none; position:relative;}
.loading:after {content:""; position:absolute; top:50%; left:50%; width:30px; height:30px; margin:-15px 0 0 -15px; border:3px solid var(--primary); border-top-color:transparent; border-radius:50%; animation:spin .75s linear infinite;}

/* Animations */
.form-container, .output-section {animation:fadeUp .55s var(--transition);} 
@keyframes fadeUp {from {opacity:0; transform:translateY(26px);} to {opacity:1; transform:translateY(0);} }
@keyframes spin {to {transform:rotate(360deg);} }

/* Responsive */
@media (max-width:1000px){ .container {padding:34px 26px 64px;} }
@media (max-width:820px){ main {gap:38px;} }
@media (max-width:720px){ .button-group {flex-direction:column;} .btn {width:100%;} }
@media (max-width:560px){ .form-container {padding:34px 26px 40px;} header h1 {font-size:1.9rem;} }

@media (max-width:640px){
  .qr-container {min-height:240px; padding:10px 10px;}
  .qr-container canvas {width:100%!important; height:auto!important;}
}